<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="checkoutStyling.css">

  </head>
  <body>
    <div class="row">
        <div class="col-75">
          <div class="container">
            <form>
              <div class="row">
                <div class="col-50">
                  <h3>Billing Address</h3>
                  <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                  <input type="text" id="fname" name="firstname" placeholder="Diluc Ragnvindr" required>
                  <label for="email"><i class="fa fa-envelope"></i> Email</label>
                  <input type="text" id="email" name="email" placeholder="dilucragnvindr@gamil.com" required>
                  <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                  <input type="text" id="adr" name="address" placeholder="Dawn Winery Street" required>
                  <label for="city"><i class="fa fa-institution"></i> City</label>
                  <input type="text" id="city" name="city" placeholder="Windwail Highland" required>
      
                  <div class="row">
                    <div class="col-50">
                      <label for="state">State</label>
                      <input type="text" id="state" name="state" placeholder="Mondstadt" required>
                    </div>
                    <div class="col-50">
                      <label for="zip">Zip</label>
                      <input type="text" id="zip" name="zip" placeholder="043011" required>
                    </div>
                  </div>
                </div>
      
                <div class="col-50">
                  <h3>Payment</h3>
                  <label for="fname">Accepted Cards</label>
                  <div class="icon-container">
                    <i class="fa fa-cc-visa" style="color:navy;"></i>
                    <i class="fa fa-cc-amex" style="color:blue;"></i>
                    <i class="fa fa-cc-mastercard" style="color:red;"></i>
                    <i class="fa fa-cc-discover" style="color:orange;"></i>
                  </div>
                  <label for="cname">Name on Card</label>
                  <input type="text" id="cname" name="cardname" placeholder="Diluc Ragnvindr" required>
                  <label for="ccnum">Credit card number</label>
                  <input type="text" id="ccnum" name="cardnumber" placeholder="0430-1130-0720-1230" required>
                  <label for="expmonth">Exp Month</label>
                  <input type="text" id="expmonth" name="expmonth" placeholder="09" required>
                  <div class="row">
                    <div class="col-50">
                      <label for="expyear">Exp Year</label>
                      <input type="text" id="expyear" name="expyear" placeholder="2023" required>
                    </div>
                    <div class="col-50">
                      <label for="cvv">CVV</label>
                      <input type="text" id="cvv" name="cvv" placeholder="923" required>
                    </div>
                  </div>
                  <label for="shards">Shards Used</label>
                  <input type="text" id="shards" name="shardsUsed" placeholder="389">
                </div>                
              </div>
              <label>
                <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing
              </label>
              <!--input type="submit" value="Checkout" class="btn"-->
              <button id="checkoutBtn" class="btn">Checkout</button>
              <div id="checkoutModal" class="modal">
                <div class="modal-content">
                  <span class="close">x</span>
                  <p>Thank you for shopping with us. Share our website to earn additional shards!</p>
                  <input type="text" value="https://oobanaii.github.io/IP-Project/" id="webLink">
                  <button class="btn" onclick="shareFunc()">Copy Link</button> 
                </div>
              </div>
               
            </form>
          </div>
        </div>
    </div>
    <script>
      // Get the modal
      var modal = document.getElementById("checkoutModal");

      // Get the button that opens the modal
      var btn = document.getElementById("checkoutBtn");

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks the button, open the modal 
      btn.onclick = function() {
        modal.style.display = "block";
      }

      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        modal.style.display = "none";
      }

      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
      function shareFunc() {
        /* Get the text field */
        var copyText = document.getElementById("webLink");
      
        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /* For mobile devices */
      
        /* Copy the text inside the text field */
        navigator.clipboard.writeText(copyText.value);
        
        /* Alert the copied text */
        alert("Copied the text: " + copyText.value);
      }
      function myFunction() {
        var inputVal = document.getElementById("input").value;
        var answerVal = document.getElementById("answer");
        var percentage = (0.0015/100) * parseInt(inputVal,10) * 100;
        if(inputVal !== ''){
          answerVal.value = (Math.round( percentage * 100 ) / 100).toFixed(1)
        }else{
          answerVal.value = '';
        }
      }
      
    </script>    
  </body>
</html>
